{% extends 'base.html' %}

{% block title %}Автомобили{% endblock %}

{% block content %}
    <h1>Автомобили</h1>
    <hr>
    {% for car in cars_list %}
        <h2><a href="{{ car.get_absolute_url }}">{{ car.make }} {{ car.model }}</a></h2>
        <hr>
    {% endfor %}

    <h2><a href="{% url 'cars:cars-create' %}">Добавить автомобиль</a></h2>

    <h2>
        <ul style="display: flex; justify-content: center; gap: 10px; list-style: none">
            {% if page_obj.has_previous %}
                <li><a href="?page={{ page_obj.previous_page_number }}">←</a></li>
            {% endif %}

            {% for page in page_obj.paginator.page_range %}
                {% if page == page_obj.number %}
                    <li><a href="?page={{ page }}">{{ page }}</a></li>
                {% elif page >= page_obj.number|add:-3 and page <= page_obj.number|add:3 %}
                    <li><a href="?page={{ page }}">{{ page }}</a></li>
                {% endif %}
            {% endfor %}

            {% if page_obj.has_next %}
                <li><a href="?page={{ page_obj.next_page_number }}">→</a></li>
            {% endif %}
        </ul>
    </h2>
{% endblock %}